{% include "head" %}

<body>
	{% include "navbar" %}
	<div class="container">

		<h1>{{ node.last_response.nodeinfo.hostname }}</h1>
		node is {{ node.status }} <br>
		last response {{ last_response_secs }} ago <br>
		<div id="sankey"></div>
		<script>
			//  the data that powers the bar chart, a simple array of numeric values
			var chartdata = [40, 60, 80, 100, 70, 120, 100, 60, 70, 150, 120, 140];

			//  the size of the overall svg element
			var height = 200,
				width = 720,

				//  the width of each bar and the offset between each bar
				barWidth = 40,
				barOffset = 20;


			d3.select('#sankey').append('svg')
				.attr('width', width)
				.attr('height', height)
				.style('background', '#dff0d8')
				.selectAll('rect').data(chartdata)
				.enter()
				.append('rect')
				.style({ 'fill': '#3c763d', 'stroke': '#d6e9c6', 'stroke-width': '5' })
				.attr('width', barWidth)
				.attr('height', function (data) {
					return data;
				})
				.attr('x', function (data, i) {
					return i * (barWidth + barOffset);
				})
				.attr('y', function (data) {
					return height - data;
				});
		</script>


		<textarea readonly style="width: 90%; height: 1200px; font-family: monospace;">
{{ last_response }}
	</textarea>
	</div>
</body>
